FORMAT: 1A

# Api V3

Api V3 supports the DailyUV.com Ember application.

# Group Business Services Directory

## Businesses [/businesses]

### List All Businesses [GET]
+ Response 200 (application/json)
    + Attributes
        + businesses (array)
          + (BusinessPersisted)

### Create a New Business [POST]

+ Request (application/json)
    + Attributes
        + business (BusinessBase)

+ Response 201 (application/json)
    + Attributes
        + business (BusinessPersisted)

## Business [/businesses/{business_id}]

+ Parameters
  + business_id (number) - ID of the business

### View Business Details [GET]

+ Response 200 (application/json)
    + Attributes
        + business (BusinessPersisted)

### Update a Business [PUT]

+ Request (application/json)
    + Attributes
        + business (BusinessPersisted)

+ Response 204 (application/json)
    + Attributes
        + business (BusinessPersisted)

## Business Feedback [/businesses/{business_id}/feedback]

### Leave Feedback [POST]

+ Request (application/json)

    + Attributes

        + satisfaction: true (boolean)
        + cleanliness: true (boolean)
        + price: true (boolean)
        + recommend: true (boolean)

+ Response 201 (application/json)

    + Attributes

        + id: 3 (number)
        + user_id: 1 (number)
        + business_id: 7 (number)

## Business Categories [/business_categories]

### List All Business Categories [GET]
+ Response 200 (application/json)
    + Attributes
        + business_categories (array)
          + (BusinessCategory)

## Data Structures

### BusinessBase (object)
+ name: Pete's Heating (string) - The name of the business
+ phone: 802.649.3951 (string)
+ email: email@address.com (string)
+ website: http://petesheating.com (string)
+ address: 6 Kendall Station Road (string)
+ city: Norwich (string)
+ zip: 05055 (string)
+ coords
  + lat: 32.7247451° S (string)
  + lon: 152.1141237° E (string)
+ service_radius: 25 (number)
+ hours (array) - Business hours in Schema.org format
  + `Mo-Fr 08:00-17:00` (string)
  + `Sa 09:00-12:00` (string)
+ has_retail_location: true (boolean)
+ logo: `https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png` (string)
+ details (string)
+ category_ids: [1,2,3] (array[number])
+ images (array)
  + `https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png` (string)

### BusinessPersisted (BusinessBase)
+ feedback
  + satisfaction: 0.25 (number)
  + cleanliness: 0.25 (number)
  + price: 0.5 (number)
  + recommned: 1 (number)
+ feedback_num: 4 (number)
+ view_count: 7 (number)
+ id: 1 (number)
+ organization_id: 3 (number)

### BusinessCategory (object)
+ name: Home Services (string)
+ icon_class: .fa-home (string)
+ description: Businesses that provide home services. (string)
+ parent_ids [1,2] (array[number])
+ child_ids [7] (array[number])
